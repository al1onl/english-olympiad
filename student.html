<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#424242">
  <meta name="description" content="–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏ –¥–ª—è 10 –∫–ª–∞—Å—É">
  <title>–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –ê–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏ ‚Äî 10 –∫–ª–∞—Å</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .student-info {
      background: var(--primary-light);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      border: 1px solid var(--border);
    }

    .info-box {
      background: var(--primary-light);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
    }

    .task-container {
      display: none;
    }

    .task-container.active {
      display: block;
    }

    .task-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--border);
    }

    .task-content {
      background: var(--primary-light);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 20px;
    }

    .navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 25px;
    }

    .timer {
      background: var(--accent);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: bold;
      font-size: 1.1rem;
    }

    .results-container {
      display: none;
      background: var(--primary-light);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 30px;
      margin-top: 20px;
    }

    select, input {
      background: var(--primary-dark);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 8px 12px;
      color: var(--text-primary);
      margin: 5px 0;
    }

    .hint {
      background: var(--warning);
      color: var(--text-primary);
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 15px;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="main-card">
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <div class="header-section">
        <div class="logo">üèÜ</div>
        <h1>–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –ê–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏</h1>
        <p class="subtitle" id="studentWelcome">–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ!</p>
      </div>

      <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —É—á–Ω—è -->
      <div class="student-info">
        <div id="studentInfo">
          <!-- –ë—É–¥–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ JavaScript -->
        </div>
      </div>

      <!-- –í—Å—Ç—É–ø–Ω–∏–π –µ–∫—Ä–∞–Ω -->
      <section id="intro">
        <div class="info-box">
          <h3 style="margin-bottom: 20px; text-align: center;">üéØ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–æ –æ–ª—ñ–º–ø—ñ–∞–¥–∏</h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
            <div>
              <h4 style="color: var(--accent); margin-bottom: 10px;">üìã –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h4>
              <p><strong>‚è±Ô∏è –ß–∞—Å:</strong> 60 —Ö–≤–∏–ª–∏–Ω</p>
              <p><strong>üìù –ó–∞–≤–¥–∞–Ω–Ω—è:</strong> 3 —Ä–æ–∑–¥—ñ–ª–∏</p>
              <p><strong>üéØ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª:</strong> 34</p>
            </div>
            <div>
              <h4 style="color: var(--accent); margin-bottom: 10px;">‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–∞</h4>
              <p>‚Ä¢ –ù–µ –≤–∏—Ö–æ–¥–∏—Ç–∏ –∑ –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É</p>
              <p>‚Ä¢ –ù–µ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É</p>
              <p>‚Ä¢ –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ</p>
            </div>
          </div>
        </div>

        <div style="text-align: center; margin-top: 30px;">
          <button id="startBtn" class="btn-primary" style="padding: 15px 30px; font-size: 1.1em; margin-right: 15px;">
            üöÄ –†–æ–∑–ø–æ—á–∞—Ç–∏ –æ–ª—ñ–º–ø—ñ–∞–¥—É
          </button>
          <button id="logoutBtn" class="btn-secondary" style="padding: 15px 25px;">
            ‚Üê –í–∏–π—Ç–∏
          </button>
        </div>
      </section>

      <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ–ª—ñ–º–ø—ñ–∞–¥–∏ -->
      <div id="tasks" style="display: none;">
        <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è —Ç–∞ —Ç–∞–π–º–µ—Ä -->
        <div class="task-header">
          <div style="font-weight: bold; font-size: 1.2rem;">–û–ª—ñ–º–ø—ñ–∞–¥–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</div>
          <div style="display: flex; align-items: center; gap: 15px;">
            <button id="prevBtn" class="btn-secondary" style="display: none;">‚Üê –ù–∞–∑–∞–¥</button>
            <div class="timer" id="timer">60:00</div>
          </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 1 -->
        <div id="task1" class="task-container">
          <div class="hint">
            <strong>–ó–∞–≤–¥–∞–Ω–Ω—è 1</strong> ‚Äî Advanced Use of English (Gapped Text ‚Äî 12 gaps)
          </div>
          
          <div class="task-content">
            <p style="margin-bottom: 20px; font-weight: bold;">Read the extended academic extract and choose the correct option for each numbered gap (12 gaps).</p>

            <div style="line-height: 1.6;">
              <p style="margin-bottom: 15px;">
                Contemporary urban studies increasingly emphasize the need for 
                <select id="t1s1">
                  <option value="">‚Äî</option>
                  <option value="synthesis">synthesis</option>
                  <option value="fragmentation">fragmentation</option>
                  <option value="isolation">isolation</option>
                </select> 
                of cross-disciplinary methods.
              </p>

              <p style="margin-bottom: 15px;">
                Historically, approaches that privileged narrow disciplinary perspectives resulted in policies that were 
                <select id="t1s2">
                  <option value="">‚Äî</option>
                  <option value="resilient">resilient</option>
                  <option value="short-sighted">short-sighted</option>
                  <option value="comprehensive">comprehensive</option>
                </select> 
                and lacked long-term viability.
              </p>

              <!-- –Ü–Ω—à—ñ 10 –ø–∏—Ç–∞–Ω—å –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ -->
              <p style="margin-bottom: 15px;">
                The complexity arises from the uneven availability of reliable data, which in many contexts is 
                <select id="t1s3">
                  <option value="">‚Äî</option>
                  <option value="abundant">abundant</option>
                  <option value="sporadic">sporadic</option>
                  <option value="redundant">redundant</option>
                </select>.
              </p>

              <p style="margin-bottom: 15px;">
                Consequently, models must be designed with an awareness of their inherent 
                <select id="t1s4">
                  <option value="">‚Äî</option>
                  <option value="limitations">limitations</option>
                  <option value="perfections">perfections</option>
                  <option value="magnitudes">magnitudes</option>
                </select>.
              </p>

              <p style="margin-bottom: 15px;">
                Stakeholders should participate to ensure that outputs are not 
                <select id="t1s5">
                  <option value="">‚Äî</option>
                  <option value="detached">detached</option>
                  <option value="aligned">aligned</option>
                  <option value="abstracted">abstracted</option>
                </select> 
                from lived experience.
              </p>
            </div>
          </div>

          <div class="navigation">
            <div></div>
            <button id="nextBtn1" class="btn-primary">–î–∞–ª—ñ ‚Üí</button>
          </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 2 -->
        <div id="task2" class="task-container">
          <div class="hint">
            <strong>–ó–∞–≤–¥–∞–Ω–Ω—è 2</strong> ‚Äî Long Reading & Analysis
          </div>
          
          <div class="task-content">
            <p style="font-weight: bold; margin-bottom: 15px;">Passage:</p>
            
            <div style="background: var(--primary-dark); padding: 15px; border-radius: 8px; margin-bottom: 20px; line-height: 1.6;">
              <p>Over the last half-century, urbanization has proceeded at an unprecedented rate, compelling scholars to reassess traditional paradigms of growth and governance. Initially, urban theory emphasized industrial expansion and spatial planning as the dominant variables; however, contemporary perspectives integrate social capital, environmental integrity and digital infrastructure into cohesive frameworks.</p>
            </div>

            <div style="margin-top: 20px;">
              <p style="margin-bottom: 10px;"><strong>1. Define path-dependent outcomes:</strong></p>
              <input type="text" id="r2q1" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å..." style="width: 100%; margin-bottom: 20px;">
              
              <p style="margin-bottom: 10px;"><strong>2. Which is NOT part of contemporary frameworks?</strong></p>
              <select id="r2q2" style="width: 100%; margin-bottom: 20px;">
                <option value="">‚Äî</option>
                <option value="A">social capital</option>
                <option value="B">digital infrastructure</option>
                <option value="C">agrarian reform</option>
              </select>

              <!-- –Ü–Ω—à—ñ 10 –ø–∏—Ç–∞–Ω—å –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ -->
            </div>
          </div>

          <div class="navigation">
            <button id="prevBtn2" class="btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
            <button id="nextBtn2" class="btn-primary">–î–∞–ª—ñ ‚Üí</button>
          </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 3 -->
        <div id="task3" class="task-container">
          <div class="hint">
            <strong>–ó–∞–≤–¥–∞–Ω–Ω—è 3</strong> ‚Äî Transformations (10 items)
          </div>
          
          <div class="task-content">
            <p style="margin-bottom: 20px; font-weight: bold;">–ü–µ—Ä–µ–ø–∏—à—ñ—Ç—å —Ä–µ—á–µ–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–ª–æ–≤–æ –≤ –¥—É–∂–∫–∞—Ö:</p>

            <div>
              <p style="margin-bottom: 10px;"><strong>1. It was unnecessary to wake him. (NEED)</strong></p>
              <input type="text" id="t3q1" placeholder="Your sentence..." style="width: 100%; margin-bottom: 20px;">
              
              <p style="margin-bottom: 10px;"><strong>2. She completed the task despite the difficulties. (MANAGED)</strong></p>
              <input type="text" id="t3q2" placeholder="Your sentence..." style="width: 100%; margin-bottom: 20px;">

              <!-- –Ü–Ω—à—ñ 8 –ø–∏—Ç–∞–Ω—å –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ -->
            </div>
          </div>

          <div class="navigation">
            <button id="prevBtn3" class="btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
            <button id="finishBtn" class="btn-primary" style="background: var(--danger);">–ó–∞–≤–µ—Ä—à–∏—Ç–∏</button>
          </div>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ -->
        <div id="resultsScreen" class="results-container">
          <div style="text-align: center; margin-bottom: 25px;">
            <h2 style="font-size: 1.8rem; margin-bottom: 10px;">üéâ –û–ª—ñ–º–ø—ñ–∞–¥—É –∑–∞–≤–µ—Ä—à–µ–Ω–æ!</h2>
            <p>–í–∞—à—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ —Å–∏—Å—Ç–µ–º—ñ</p>
          </div>

          <div id="resultsContent">
            <!-- –ë—É–¥–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ JavaScript -->
          </div>

          <div style="text-align: center; margin-top: 25px;">
            <button id="backToHomeBtn" class="btn-secondary">‚Üê –ù–∞ –≥–æ–ª–æ–≤–Ω—É</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π –∫–æ–¥ –¥–ª—è student.html
    let timerInterval;
    let timeRemaining = 60 * 60; // 60 —Ö–≤–∏–ª–∏–Ω

    document.addEventListener('DOMContentLoaded', function() {
      // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
      const currentUser = JSON.parse(localStorage.getItem('current_user'));
      if (!currentUser) {
        window.location.href = 'index.html';
        return;
      }

      // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —É—á–Ω—è
      updateStudentInfo(currentUser);
      
      // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π
      setupEventListeners();
    });

    function updateStudentInfo(user) {
      document.getElementById('studentWelcome').textContent = `–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ, ${user.name}!`;
      
      const studentInfo = document.getElementById('studentInfo');
      if (studentInfo) {
        studentInfo.innerHTML = `
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
            <div><strong>üë§ –£—á–µ–Ω—å:</strong> ${user.name}</div>
            <div><strong>üè´ –ö–ª–∞—Å:</strong> ${user.class}</div>
            <div><strong>üî¢ –ù–æ–º–µ—Ä:</strong> <span style="color: var(--accent); font-weight: bold;">${user.studentNumber}</span></div>
            <div><strong>üìä –°—Ç–∞—Ç—É—Å:</strong> <span style="color: var(--success);">–ì–æ—Ç–æ–≤–∏–π</span></div>
          </div>
        `;
      }
    }

    function setupEventListeners() {
      // –ö–Ω–æ–ø–∫–∞ –ø–æ—á–∞—Ç–∫—É
      document.getElementById('startBtn').addEventListener('click', startOlympiad);
      
      // –ö–Ω–æ–ø–∫–∞ –≤–∏—Ö–æ–¥—É
      document.getElementById('logoutBtn').addEventListener('click', function() {
        if (confirm('–í–∏–π—Ç–∏ –∑ —Å–∏—Å—Ç–µ–º–∏?')) {
          localStorage.removeItem('current_user');
          window.location.href = 'index.html';
        }
      });

      // –ù–∞–≤—ñ–≥–∞—Ü—ñ—è
      document.getElementById('nextBtn1').addEventListener('click', () => showTask(2));
      document.getElementById('prevBtn2').addEventListener('click', () => showTask(1));
      document.getElementById('nextBtn2').addEventListener('click', () => showTask(3));
      document.getElementById('prevBtn3').addEventListener('click', () => showTask(2));
      document.getElementById('finishBtn').addEventListener('click', finishOlympiad);
      document.getElementById('backToHomeBtn').addEventListener('click', () => {
        window.location.href = 'index.html';
      });

      // –ì–ª–æ–±–∞–ª—å–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
      document.getElementById('prevBtn').addEventListener('click', goToPreviousTask);
    }

    function startOlympiad() {
      document.getElementById('intro').style.display = 'none';
      document.getElementById('tasks').style.display = 'block';
      showTask(1);
      startTimer();
      
      // –°–ø—Ä–æ–±–∞ –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É
      if (document.documentElement.requestFullscreen) {
        document.documentElement.requestFullscreen().catch(console.log);
      }
    }

    function showTask(taskNumber) {
      // –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ –≤—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
      document.querySelectorAll('.task-container').forEach(task => {
        task.classList.remove('active');
      });
      
      // –ü–æ–∫–∞–∑–∞—Ç–∏ –æ–±—Ä–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è
      const task = document.getElementById(`task${taskNumber}`);
      if (task) {
        task.classList.add('active');
      }
      
      // –û–Ω–æ–≤–∏—Ç–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é
      updateNavigation(taskNumber);
    }

    function goToPreviousTask() {
      const currentTask = getCurrentTask();
      if (currentTask > 1) {
        showTask(currentTask - 1);
      }
    }

    function getCurrentTask() {
      const tasks = document.querySelectorAll('.task-container');
      for (let i = 0; i < tasks.length; i++) {
        if (tasks[i].classList.contains('active')) {
          return i + 1;
        }
      }
      return 1;
    }

    function updateNavigation(currentTask) {
      const prevBtn = document.getElementById('prevBtn');
      if (prevBtn) {
        prevBtn.style.display = currentTask > 1 ? 'inline-block' : 'none';
      }
    }

    function startTimer() {
      timerInterval = setInterval(() => {
        if (timeRemaining > 0) {
          timeRemaining--;
          updateTimerDisplay();
        } else {
          finishOlympiad();
        }
      }, 1000);
    }

    function updateTimerDisplay() {
      const timer = document.getElementById('timer');
      if (timer) {
        const minutes = Math.floor(timeRemaining / 60);
        const seconds = timeRemaining % 60;
        timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      }
    }

    function finishOlympiad() {
      clearInterval(timerInterval);
      
      // –í–∏–π—Ç–∏ –∑ –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É
      if (document.fullscreenElement) {
        document.exitFullscreen();
      }
      
      showResults();
    }

    function showResults() {
      document.querySelectorAll('.task-container').forEach(task => {
        task.style.display = 'none';
      });
      
      const resultsScreen = document.getElementById('resultsScreen');
      if (resultsScreen) {
        resultsScreen.style.display = 'block';
        displayResults();
      }
    }

    function displayResults() {
      const resultsContent = document.getElementById('resultsContent');
      const currentUser = JSON.parse(localStorage.getItem('current_user'));
      
      if (resultsContent && currentUser) {
        const score = calculateScore();
        
        resultsContent.innerHTML = `
          <div style="text-align: center; margin-bottom: 20px;">
            <div style="font-size: 2rem; color: var(--accent); margin-bottom: 10px;">${score}/34</div>
            <div style="color: var(--text-secondary);">–ù–∞–±—Ä–∞–Ω–æ –±–∞–ª—ñ–≤</div>
          </div>
          
          <div style="background: var(--primary-dark); padding: 15px; border-radius: 8px; margin-top: 20px;">
            <h4 style="margin-bottom: 10px;">üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤:</h4>
            <p>Telegram: <strong>@nacodexx</strong></p>
            <p>Discord: <strong>in.kyiv</strong></p>
            <p style="margin-top: 10px;">–í–∞—à –Ω–æ–º–µ—Ä: <strong>${currentUser.studentNumber}</strong></p>
          </div>
        `;
      }
    }

    function calculateScore() {
      let score = 0;
      
      // –ó–∞–≤–¥–∞–Ω–Ω—è 1
      for (let i = 1; i <= 5; i++) {
        const select = document.getElementById(`t1s${i}`);
        if (select && select.value) score += 1;
      }
      
      // –ó–∞–≤–¥–∞–Ω–Ω—è 2
      for (let i = 1; i <= 2; i++) {
        const element = document.getElementById(`r2q${i}`);
        if (element && element.value) score += 1;
      }
      
      // –ó–∞–≤–¥–∞–Ω–Ω—è 3
      for (let i = 1; i <= 2; i++) {
        const input = document.getElementById(`t3q${i}`);
        if (input && input.value.trim().length > 3) score += 1;
      }
      
      return score;
    }
  </script>
</body>
</html>
