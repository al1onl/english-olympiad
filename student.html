<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#424242">
  <meta name="description" content="–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏ –¥–ª—è 10 –∫–ª–∞—Å—É">
  <title>–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –ê–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏ ‚Äî 10 –∫–ª–∞—Å (Hard) ‚Äî Final</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* –î–æ–¥–∞–º —Å—É—á–∞—Å–Ω—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ —Å—Ç–∏–ª—ñ —Ç—É—Ç */
    :root {
      --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      --danger-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
      --glass-bg: rgba(255, 255, 255, 0.1);
      --glass-border: rgba(255, 255, 255, 0.2);
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.4); }
      50% { box-shadow: 0 0 40px rgba(102, 126, 234, 0.8); }
    }

    .floating {
      animation: float 3s ease-in-out infinite;
    }

    .glowing {
      animation: glow 2s ease-in-out infinite;
    }

    .glass-effect {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="main-card">
      <!-- –û–Ω–æ–≤–ª–µ–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ —É—á–Ω—è -->
      <div class="header-section">
        <div class="logo floating">üèÜ</div>
        <h1>–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –ê–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏ ‚Äî 10 –∫–ª–∞—Å</h1>
        <p class="subtitle" id="studentWelcome">–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ!</p>
        <div class="student-info glass-effect" style="padding: 15px; border-radius: 12px; margin-top: 20px;">
          <div id="studentDetails"></div>
        </div>
      </div>

      <!-- –°–ø—Ä–æ—â–µ–Ω–∞ —Ñ–æ—Ä–º–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó -->
      <section id="intro">
        <div class="intro-content" style="text-align: center;">
          <div class="info-box glass-effect" style="padding: 30px; border-radius: 16px; margin-bottom: 30px;">
            <h3 style="margin-bottom: 20px;">üéØ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–æ –æ–ª—ñ–º–ø—ñ–∞–¥–∏</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; text-align: left;">
              <div>
                <strong>‚è±Ô∏è –ß–∞—Å:</strong> 60 —Ö–≤–∏–ª–∏–Ω<br>
                <strong>üìù –ó–∞–≤–¥–∞–Ω–Ω—è:</strong> 3 —Ä–æ–∑–¥—ñ–ª–∏<br>
                <strong>üéØ –¶—ñ–ª—å:</strong> –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª
              </div>
              <div>
                <strong>‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–∞:</strong><br>
                ‚Ä¢ –ù–µ –≤–∏—Ö–æ–¥–∏—Ç–∏ –∑ –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É<br>
                ‚Ä¢ –ù–µ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É<br>
                ‚Ä¢ –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ
              </div>
            </div>
          </div>

          <button id="startBtn" class="btn-primary glowing" style="padding: 20px 40px; font-size: 1.2em;">
            <span>üöÄ –†–æ–∑–ø–æ—á–∞—Ç–∏ –æ–ª—ñ–º–ø—ñ–∞–¥—É</span>
          </button>
        </div>
      </section>

      <!-- –†–µ—à—Ç–∞ –∫–æ–¥—É –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–æ—é, –∞–ª–µ –±—É–¥–µ –æ–Ω–æ–≤–ª–µ–Ω–∞ -->
      <div id="tasks" style="display: none;">
        <!-- –¢—É—Ç –±—É–¥–µ –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –æ–ª—ñ–º–ø—ñ–∞–¥–∏ -->
      </div>
    </div>
  </div>

  <script>
    // –û–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó
    document.addEventListener('DOMContentLoaded', function() {
      const currentUser = JSON.parse(localStorage.getItem('current_user'));
      
      if (!currentUser) {
        window.location.href = 'index.html';
        return;
      }

      // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–æ–º–µ—Ä–∞ —É—á–Ω—è
      if (!currentUser.studentNumber) {
        currentUser.studentNumber = generateStudentNumber();
        // –û–Ω–æ–≤–ª—é—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
        updateUserInDatabase(currentUser);
        localStorage.setItem('current_user', JSON.stringify(currentUser));
      }

      // –û–Ω–æ–≤–ª—é—î–º–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
      updateStudentInterface(currentUser);
      
      // –û–±—Ä–æ–±–Ω–∏–∫ –ø–æ—á–∞—Ç–∫—É –æ–ª—ñ–º–ø—ñ–∞–¥–∏
      document.getElementById('startBtn').addEventListener('click', startOlympiad);
    });

    function generateStudentNumber() {
      const users = JSON.parse(localStorage.getItem('olympiad_users')) || [];
      const usedNumbers = users.map(u => u.studentNumber).filter(n => n);
      let number;
      
      do {
        number = Math.floor(Math.random() * 10000) + 1;
      } while (usedNumbers.includes(number));
      
      return number;
    }

    function updateUserInDatabase(updatedUser) {
      const users = JSON.parse(localStorage.getItem('olympiad_users')) || [];
      const index = users.findIndex(u => u.id === updatedUser.id);
      if (index !== -1) {
        users[index] = updatedUser;
        localStorage.setItem('olympiad_users', JSON.stringify(users));
      }
    }

    function updateStudentInterface(user) {
      document.getElementById('studentWelcome').textContent = `–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ, ${user.name}!`;
      document.getElementById('studentDetails').innerHTML = `
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
          <div><strong>üë§ –£—á–µ–Ω—å:</strong> ${user.name}</div>
          <div><strong>üè´ –ö–ª–∞—Å:</strong> ${user.class}</div>
          <div><strong>üî¢ –ù–æ–º–µ—Ä:</strong> <span style="color: var(--accent); font-weight: bold;">${user.studentNumber}</span></div>
          <div><strong>üìä –°—Ç–∞—Ç—É—Å:</strong> <span style="color: var(--success);">–ì–æ—Ç–æ–≤–∏–π –¥–æ –æ–ª—ñ–º–ø—ñ–∞–¥–∏</span></div>
        </div>
      `;
    }

    function startOlympiad() {
      // –õ–æ–≥—ñ–∫–∞ –∑–∞–ø—É—Å–∫—É –æ–ª—ñ–º–ø—ñ–∞–¥–∏ (–±—É–¥–µ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –∑ —ñ—Å–Ω—É—é—á–æ—é)
      document.getElementById('intro').style.display = 'none';
      document.getElementById('tasks').style.display = 'block';
      
      // –ó–∞–ø—É—Å–∫ –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É —Ç–∞ —Ç–∞–π–º–µ—Ä—ñ–≤
      initializeOlympiad();
    }

    function initializeOlympiad() {
      // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–ª—ñ–º–ø—ñ–∞–¥–∏ (—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ—Å–Ω—É—é—á–æ—é –ª–æ–≥—ñ–∫–æ—é)
      try {
        if (document.documentElement.requestFullscreen) {
          document.documentElement.requestFullscreen();
        }
      } catch (e) {
        console.log('Fullscreen not supported');
      }
      
      // –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ –æ–ª—ñ–º–ø—ñ–∞–¥–∏
      // –¢—É—Ç –±—É–¥–µ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ—Å–Ω—É—é—á–∏–º –∫–æ–¥–æ–º –æ–ª—ñ–º–ø—ñ–∞–¥–∏
    }
  </script>
</body>
</html>
