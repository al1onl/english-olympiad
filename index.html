<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#424242">
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="header">
            <h1>üèÜ –û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏</h1>
            <p>–û–±–µ—Ä—ñ—Ç—å —Ä–µ–∂–∏–º —Ä–æ–±–æ—Ç–∏</p>
        </div>

        <!-- –í–∏–±—ñ—Ä —Ä–µ–∂–∏–º—É -->
        <div class="mode-selector" id="modeSelector">
            <div class="mode-card" data-mode="student">
                <div class="mode-icon">üéì</div>
                <h3>–†–µ–∂–∏–º —É—á–Ω—è</h3>
                <p>–ü—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –æ–ª—ñ–º–ø—ñ–∞–¥–∏</p>
            </div>
            
            <div class="mode-card" data-mode="admin">
                <div class="mode-icon">‚öôÔ∏è</div>
                <h3>–†–µ–∂–∏–º –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
                <p>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏</p>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥—É –¥–ª—è —É—á–Ω—è -->
        <div id="studentLogin" class="login-form" style="display: none;">
            <h2>–í—Ö—ñ–¥ –¥–ª—è —É—á–Ω—è</h2>
            <div class="form-group">
                <label>–õ–æ–≥—ñ–Ω:</label>
                <input type="text" id="studentLoginInput" placeholder="–í–∞—à –ª–æ–≥—ñ–Ω">
            </div>
            <div class="form-group">
                <label>–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="studentPasswordInput" placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å">
            </div>
            <button id="studentLoginBtn">–£–≤—ñ–π—Ç–∏ –¥–æ –æ–ª—ñ–º–ø—ñ–∞–¥–∏</button>
            <button class="btn-secondary" id="backFromStudentBtn">‚Üê –ù–∞–∑–∞–¥</button>
            <div id="studentError" class="error-message"></div>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥—É –¥–ª—è –∞–¥–º—ñ–Ω–∞ -->
        <div id="adminLogin" class="login-form" style="display: none;">
            <h2>–í—Ö—ñ–¥ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
            <div class="form-group">
                <label>–õ–æ–≥—ñ–Ω –∞–¥–º—ñ–Ω–∞:</label>
                <input type="text" id="adminLoginInput" placeholder="admin">
            </div>
            <div class="form-group">
                <label>–ü–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω–∞:</label>
                <input type="password" id="adminPasswordInput" placeholder="–ü–∞—Ä–æ–ª—å">
            </div>
            <div class="form-group">
                <label>–ö–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ:</label>
                <input type="password" id="adminCodeWord" placeholder="–°–µ–∫—Ä–µ—Ç–Ω–µ –∫–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ">
            </div>
            <button id="adminLoginBtn">–£–≤—ñ–π—Ç–∏ –≤ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å</button>
            <button class="btn-secondary" id="backFromAdminBtn">‚Üê –ù–∞–∑–∞–¥</button>
            <div id="adminError" class="error-message"></div>
        </div>
    </div>

    <script>
        // –ü—Ä–æ—Å—Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
        document.addEventListener('DOMContentLoaded', function() {
            console.log('–°—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞');
            
            // –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ –≤–∏–±–æ—Ä—É —Ä–µ–∂–∏–º—É
            document.querySelectorAll('.mode-card[data-mode]').forEach(card => {
                card.addEventListener('click', function() {
                    const mode = this.getAttribute('data-mode');
                    showLoginForm(mode);
                });
            });

            // –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è —Ñ–æ—Ä–º–∏ —É—á–Ω—è
            document.getElementById('studentLoginBtn').addEventListener('click', handleStudentLogin);
            document.getElementById('backFromStudentBtn').addEventListener('click', showMainMenu);

            // –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è —Ñ–æ—Ä–º–∏ –∞–¥–º—ñ–Ω–∞
            document.getElementById('adminLoginBtn').addEventListener('click', handleAdminLogin);
            document.getElementById('backFromAdminBtn').addEventListener('click', showMainMenu);
        });

        function showMainMenu() {
            document.getElementById('modeSelector').style.display = 'grid';
            document.getElementById('studentLogin').style.display = 'none';
            document.getElementById('adminLogin').style.display = 'none';
        }

        function showLoginForm(mode) {
            document.getElementById('modeSelector').style.display = 'none';
            
            if (mode === 'student') {
                document.getElementById('studentLogin').style.display = 'block';
                document.getElementById('adminLogin').style.display = 'none';
            } else {
                document.getElementById('adminLogin').style.display = 'block';
                document.getElementById('studentLogin').style.display = 'none';
            }
        }

        function handleStudentLogin() {
            const login = document.getElementById('studentLoginInput').value.trim();
            const password = document.getElementById('studentPasswordInput').value.trim();
            
            if (!login || !password) {
                showError('studentError', '–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è');
                return;
            }
            
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑ –ª–æ–∫–∞–ª—å–Ω–∏–º —Å—Ö–æ–≤–∏—â–µ–º
            const users = JSON.parse(localStorage.getItem('olympiad_users')) || [];
            const user = users.find(u => u.login === login && u.password === password);
            
            if (user) {
                localStorage.setItem('current_user', JSON.stringify(user));
                window.location.href = 'student.html';
            } else {
                showError('studentError', '–ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å');
            }
        }

        function handleAdminLogin() {
            const login = document.getElementById('adminLoginInput').value.trim();
            const password = document.getElementById('adminPasswordInput').value.trim();
            const codeWord = document.getElementById('adminCodeWord').value.trim();
            
            if (login === 'admin' && password === 'admin123' && codeWord === 'olympiad2024') {
                localStorage.setItem('admin_authenticated', 'true');
                window.location.href = 'admin.html';
            } else {
                showError('adminError', '–ù–µ–≤—ñ—Ä–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞');
            }
        }

        function showError(elementId, message) {
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = message;
                element.style.display = 'block';
            }
        }
    </script>
</body>
</html>
