<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –ê–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –ú–æ–≤–∏</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css"> 
</head>
<body>

    <div id="notificationArea" class="notification-area"></div>

    <div id="mainView" class="container">
        <header>
            <h1>Olympiad Master</h1>
            <p class="subtitle">–û–Ω–ª–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è —à–∫—ñ–ª—å–Ω–æ—ó –æ–ª—ñ–º–ø—ñ–∞–¥–∏</p>
        </header>

        <div id="modeSelector" class="mode-selector">
            <button data-mode="student" class="btn-large btn-primary">–Ø ‚Äî –£–ß–ï–ù–¨</button>
            <button data-mode="admin" class="btn-large btn-secondary">–Ø ‚Äî –ê–î–ú–Ü–ù–Ü–°–¢–†–ê–¢–û–†</button>
        </div>

        <div id="studentLogin" class="login-box hidden">
            <h2>–í—Ö—ñ–¥ –¥–ª—è —É—á–Ω—è</h2>
            <form id="studentLoginForm">
                <input type="email" id="studentLoginInput" placeholder="–í–∞—à Email (–õ–æ–≥—ñ–Ω)" required>
                <input type="password" id="studentPasswordInput" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <div id="studentError" class="error-message hidden"></div>
                <button type="submit" class="btn-primary">–£–≤—ñ–π—Ç–∏</button>
            </form>
            <button class="btn-text" data-action="backToMain">‚Üê –ù–∞–∑–∞–¥</button>
        </div>

        <div id="adminLogin" class="login-box hidden">
            <h2>–í—Ö—ñ–¥ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
            <form id="adminLoginForm">
                <input type="email" id="adminLoginInput" placeholder="Email –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞" required>
                <input type="password" id="adminPasswordInput" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <input type="password" id="adminCodeWord" placeholder="–ö–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ" required>
                <div id="adminError" class="error-message hidden"></div>
                <button type="submit" class="btn-primary">–£–≤—ñ–π—Ç–∏</button>
            </form>
            <button class="btn-text" data-action="backToMain">‚Üê –ù–∞–∑–∞–¥</button>
        </div>
    </div>

    <div id="studentAppView" class="container app-container hidden">
        <header class="app-header">
            <h1 style="flex-grow: 1;">Olympiad Master (–£—á–µ–Ω—å)</h1>
            <button id="studentLogoutBtn" class="btn-danger-small">–í–∏—Ö—ñ–¥</button>
        </header>

        <main class="app-content">
            
            <div id="studentIntro" class="intro-section">
                <h2 id="introUserName">–í—ñ—Ç–∞—î–º–æ!</h2>
                <div id="introUserInfo" class="user-info-card">
                    </div>
                <button id="startOlympiadBtn" class="btn-large btn-success" style="margin-top: 30px;">
                    üî• –†–æ–∑–ø–æ—á–∞—Ç–∏ –û–ª—ñ–º–ø—ñ–∞–¥—É
                </button>
            </div>

            <div id="studentTasks" class="task-section hidden">
                <div class="task-header">
                    <h2>–ó–∞–≤–¥–∞–Ω–Ω—è 1 / 3</h2>
                    <div class="timer-display">
                        <span id="timerDisplay">00:00</span>
                    </div>
                </div>

                <div id="taskContentContainer" class="task-content">
                    </div>

                <div class="task-controls">
                    <button id="prevTaskBtn" class="btn-secondary" disabled>‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è</button>
                    <button id="nextTaskBtn" class="btn-primary">–ù–∞—Å—Ç—É–ø–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Üí</button>
                    <button id="finishOlympiadBtn" class="btn-danger hidden">–ó–∞–≤–µ—Ä—à–∏—Ç–∏ –æ–ª—ñ–º–ø—ñ–∞–¥—É</button>
                </div>
            </div>

            <div id="studentResults" class="results-section hidden">
                <div id="resultsContent">
                    <h2>–í–∞—à—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏</h2>
                    </div>
                <button id="resultsLogoutBtn" class="btn-danger-small" style="margin-top: 20px;">
                    –í–∏–π—Ç–∏ –∑ —Å–∏—Å—Ç–µ–º–∏
                </button>
            </div>
        </main>
    </div>

    <div id="adminAppView" class="container app-container hidden">
        <header class="app-header">
            <h1 style="flex-grow: 1;">Olympiad Master (–ê–¥–º—ñ–Ω)</h1>
            <button id="adminLogoutBtn" class="btn-danger-small">–í–∏—Ö—ñ–¥</button>
        </header>

        <div class="tabs">
            <button class="tab active" data-tab="stats">–û–≥–ª—è–¥ –°–∏—Å—Ç–µ–º–∏</button>
            <button class="tab" data-tab="users">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Ç–∞ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏</button>
            <button class="tab" data-tab="create">–°—Ç–≤–æ—Ä–∏—Ç–∏ –£—á–Ω—è</button>
        </div>

        <main class="app-content admin-content">
            
            <div id="statsPanel" class="admin-panel">
                <h2>üìà –ó–∞–≥–∞–ª—å–Ω–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid">
                    <div class="stat-card" style="border-top-color: var(--primary);">
                        <div id="totalUsers" class="stat-number">0</div>
                        <div class="stat-label">–í—Å—å–æ–≥–æ –£—á–Ω—ñ–≤ (–°—Ç—É–¥–µ–Ω—Ç—ñ–≤)</div>
                    </div>
                    <div class="stat-card" style="border-top-color: var(--success);">
                        <div id="completedUsers" class="stat-number">0</div>
                        <div class="stat-label">–ó–∞–≤–µ—Ä—à–∏–ª–∏ –û–ª—ñ–º–ø—ñ–∞–¥—É</div>
                    </div>
                    <div class="stat-card" style="border-top-color: var(--warning);">
                        <div id="activeUsers" class="stat-number">0</div>
                        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ñ / –í –ø—Ä–æ—Ü–µ—Å—ñ</div>
                    </div>
                    <div class="stat-card" style="border-top-color: var(--secondary);">
                        <div id="class10Users" class="stat-number">0</div>
                        <div class="stat-label">–£—á–Ω—ñ–≤ 10-–≥–æ –∫–ª–∞—Å—É</div>
                    </div>
                </div>
            </div>

            <div id="usersPanel" class="admin-panel hidden">
                <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –£—á–Ω—ñ–≤</h2>
                <p class="subtitle">–ü–µ—Ä–µ–ª—ñ–∫ —É—Å—ñ—Ö –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏—Ö —É—á–Ω—ñ–≤ —Ç–∞ —ó—Ö–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏. (–ü–∞–≥—ñ–Ω–∞—Ü—ñ—è: 10 –∑–∞–ø–∏—Å—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É)</p>
                
                <div class="table-container">
                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>‚Ññ</th>
                                <th>–ü–Ü–ë</th>
                                <th>–ö–ª–∞—Å</th>
                                <th>Email (–õ–æ–≥—ñ–Ω)</th>
                                <th>–†–∞—Ö—É–Ω–æ–∫</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody">
                            </tbody>
                    </table>
                </div>

                <div class="pagination-controls" style="display: flex; justify-content: space-between; margin-top: 20px;">
                    <button id="prevPageBtn" class="btn-secondary" disabled>‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞</button>
                    <div id="paginationInfo" style="align-self: center; font-weight: 600;">–°—Ç–æ—Ä—ñ–Ω–∫–∞ 1</div>
                    <button id="nextPageBtn" class="btn-primary" disabled>–ù–∞—Å—Ç—É–ø–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ ‚Üí</button>
                </div>
            </div>

            <div id="createPanel" class="admin-panel hidden">
                <h2>‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –ù–æ–≤–æ–≥–æ –£—á–Ω—è</h2>
                <form id="createUserForm" class="create-form">
                    <input type="text" id="newUserName" placeholder="–ü–Ü–ë —É—á–Ω—è (–Ü–≤–∞–Ω–æ–≤ –Ü–≤–∞–Ω)" required>
                    <select id="newUserClass" required>
                        <option value="" disabled selected>–í–∏–±–µ—Ä—ñ—Ç—å –∫–ª–∞—Å</option>
                        <option value="10">10-–π –∫–ª–∞—Å</option>
                        <option value="11">11-–π –∫–ª–∞—Å</option>
                    </select>
                    <button type="submit" class="btn-success">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
                </form>

                <div id="createdCredentials" class="credentials-box hidden">
                    <h3>–û–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ —É—á–Ω—è:</h3>
                    <div id="credentialsInfo">
                        </div>
                    <button id="copyCredentialsBtn" class="btn-secondary" style="margin-top: 15px;">
                        –ö–æ–ø—ñ—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ
                    </button>
                </div>
            </div>

        </main>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    
    <script src="firebase-config.js"></script>
    
    <script src="script.js"></script>
</body>
</html>
