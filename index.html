<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Olympiad - Cloud Edition</title>
    
    <link rel="stylesheet" href="style.css"> 
</head>
<body>

    <div class="container">
        
        <div id="mainView" class="app-container">
            <h1>Olympiad System.</h1>
            <h2>–û–±–µ—Ä—ñ—Ç—å –≤–∞—à —Ä–µ–∂–∏–º</h2>
            <p class="subtitle">–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ —Å–∏—Å—Ç–µ–º–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è –æ–ª—ñ–º–ø—ñ–∞–¥–∏. –ü—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ —è–∫ —É—á–µ–Ω—å –∞–±–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä.</p>

            <div id="modeSelector" style="display: flex; gap: 20px; justify-content: center; margin-top: 50px;">
                <button class="btn-primary" data-mode="student" style="min-width: 250px;">
                    –Ø ‚Äî –£—á–µ–Ω—å
                </button>
                <button class="btn-secondary" data-mode="admin" style="min-width: 250px;">
                    –Ø ‚Äî –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä
                </button>
            </div>
        </div>

        <div id="studentLogin" class="app-container hidden">
            <h2>–í—Ö—ñ–¥ –¥–ª—è –£—á–Ω—è</h2>
            <p class="subtitle">–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å —Å–≤—ñ–π –ª–æ–≥—ñ–Ω —Ç–∞ –ø–∞—Ä–æ–ª—å, –Ω–∞–¥–∞–Ω—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.</p>
            
            <form id="studentLoginForm" style="max-width: 400px; margin: 0 auto;">
                
                <div id="studentError" class="forced-message hidden" style="margin-bottom: 20px;">
                    –ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å.
                </div>

                <div style="margin-bottom: 20px;">
                    <input type="email" id="studentLoginInput" placeholder="–õ–æ–≥—ñ–Ω (Email)" required style="margin-bottom: 15px;">
                </div>
                
                <div style="margin-bottom: 30px;">
                    <input type="password" id="studentPasswordInput" placeholder="–ü–∞—Ä–æ–ª—å" required>
                </div>
                
                <button type="submit" class="btn-primary" style="width: 100%; margin-bottom: 15px;">–£–≤—ñ–π—Ç–∏ –¥–æ —Å–∏—Å—Ç–µ–º–∏</button>
                
                <button type="button" data-action="backToMain" class="btn-secondary" style="width: 100%;">
                    ‚Üê –ù–∞–∑–∞–¥ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó
                </button>
            </form>
        </div>

        <div id="adminLogin" class="app-container hidden">
            <h2>–í—Ö—ñ–¥ –¥–ª—è –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
            <p class="subtitle">–î–ª—è –¥–æ—Å—Ç—É–ø—É –≤–≤–µ–¥—ñ—Ç—å –¥–∞–Ω—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ç–∞ –∫–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ.</p>
            
            <form id="adminLoginForm" style="max-width: 400px; margin: 0 auto;">

                <div id="adminError" class="forced-message hidden" style="margin-bottom: 20px;">
                    –ù–µ–≤—ñ—Ä–Ω—ñ –¥–∞–Ω—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
                </div>

                <div style="margin-bottom: 15px;">
                    <input type="email" id="adminLoginInput" placeholder="–õ–æ–≥—ñ–Ω (Email)" required>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <input type="password" id="adminPasswordInput" placeholder="–ü–∞—Ä–æ–ª—å" required>
                </div>
                
                <div style="margin-bottom: 30px;">
                    <input type="password" id="adminCodeWord" placeholder="–ö–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ" required>
                </div>
                
                <button type="submit" class="btn-primary" style="width: 100%; margin-bottom: 15px;">–£–≤—ñ–π—Ç–∏ —è–∫ –ê–¥–º—ñ–Ω</button>

                <button type="button" data-action="backToMain" class="btn-secondary" style="width: 100%;">
                    ‚Üê –ù–∞–∑–∞–¥ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó
                </button>
            </form>
        </div>

        <div id="studentAppView" class="app-container hidden">
             <div id="studentIntro" class="intro-section">
                <h1 id="introUserName">–í—ñ—Ç–∞—î–º–æ!</h1>
                <div id="introUserInfo" class="text-for-reading" style="margin-bottom: 40px;">
                    <p>–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ—Ñ—ñ–ª—å –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è...</p>
                </div>
                <button id="startOlympiadBtn" class="btn-primary" style="font-size: 1.2rem; padding: 20px 40px; margin-top: 20px;">
                    üî• –†–æ–∑–ø–æ—á–∞—Ç–∏ –û–ª—ñ–º–ø—ñ–∞–¥—É
                </button>
                <button id="studentLogoutBtn" class="btn-secondary" style="margin-top: 20px;">–í–∏–π—Ç–∏ –∑ —Å–∏—Å—Ç–µ–º–∏</button>
            </div>

            <div id="studentTasks" class="hidden">
                 <div class="task-header">
                    <h2>–ó–∞–≤–¥–∞–Ω–Ω—è <span id="currentTaskNum">1</span> / 5</h2>
                    <div id="timerDisplay" class="timer-display">20:00</div>
                </div>

                <div id="taskContentContainer" style="margin-bottom: 50px;">
                    <p class="forced-message">–ó–∞–≤–¥–∞–Ω–Ω—è —â–µ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–†–æ–∑–ø–æ—á–∞—Ç–∏ –û–ª—ñ–º–ø—ñ–∞–¥—É".</p>
                </div>

                <div class="task-navigation">
                    <button id="prevTaskBtn" class="btn-secondary" disabled>‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—î</button>
                    <button id="nextTaskBtn" class="btn-primary">–ù–∞—Å—Ç—É–ø–Ω–µ ‚Üí</button>
                    <button id="finishOlympiadBtn" class="btn-danger hidden">–ó–∞–≤–µ—Ä—à–∏—Ç–∏</button>
                </div>
            </div>

            <div id="studentResults" class="hidden" style="text-align: center;">
                <h1>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏</h1>
                <div id="resultsContent" class="text-for-reading">
                    <p>–í–∞—à—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤—ñ–¥–æ–±—Ä–∞–∑—è—Ç—å—Å—è —Ç—É—Ç –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.</p>
                </div>
                <button id="resultsLogoutBtn" class="btn-secondary" style="margin-top: 30px;">–í–∏–π—Ç–∏</button>
            </div>
           
        </div>

        <div id="adminAppView" class="app-container hidden">
            <h1>–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞ –ü–∞–Ω–µ–ª—å</h1>
            
            <div class="tabs">
                <div class="tab active" data-tab="stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                <div class="tab" data-tab="users">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</div>
                <div class="tab" data-tab="create">–°—Ç–≤–æ—Ä–∏—Ç–∏ –£—á–Ω—è</div>
                <button id="adminLogoutBtn" class="btn-danger" style="margin-left: auto;">–í–∏–π—Ç–∏</button>
            </div>

            <div id="statsPanel">
                <h2>–û–≥–ª—è–¥ –°–∏—Å—Ç–µ–º–∏</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div id="totalUsers" class="stat-number">0</div>
                        <div class="stat-label">–í—Å—å–æ–≥–æ –£—á–Ω—ñ–≤</div>
                    </div>
                    <div class="stat-card" style="border-top-color: var(--success);">
                        <div id="completedUsers" class="stat-number">0</div>
                        <div class="stat-label">–ó–∞–≤–µ—Ä—à–∏–ª–∏ –û–ª—ñ–º–ø—ñ–∞–¥—É</div>
                    </div>
                    <div class="stat-card" style="border-top-color: var(--warning);">
                        <div id="activeUsers" class="stat-number">0</div>
                        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ñ / –í –ø—Ä–æ—Ü–µ—Å—ñ</div>
                    </div>
                    <div class="stat-card">
                        <div id="class10Users" class="stat-number">0</div>
                        <div class="stat-label">–£—á–Ω—ñ–≤ 10-–≥–æ –∫–ª–∞—Å—É</div>
                    </div>
                </div>
            </div>

            <div id="usersPanel" class="hidden">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–∞ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞</h2>
                <div id="usersListContainer">
                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>–ü–Ü–ë</th>
                                <th>–ö–ª–∞—Å</th>
                                <th>Email</th>
                                <th>–ë–∞–ª</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody">
                            </tbody>
                    </table>
                </div>
            </div>

            <div id="createPanel" class="hidden" style="max-width: 600px; margin: 0 auto;">
                <h2>–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ù–æ–≤–æ–≥–æ –£—á–Ω—è</h2>
                
                <form id="createUserForm" style="margin-bottom: 40px;">
                    <p class="subtitle">–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä—É—î –ª–æ–≥—ñ–Ω —Ç–∞ –ø—Ä–æ—Å—Ç–∏–π –ø–∞—Ä–æ–ª—å.</p>
                    
                    <div style="margin-bottom: 20px;">
                        <input type="text" id="newUserName" placeholder="–ü–Ü–ë –£—á–Ω—è (–Ü–≤–∞–Ω–æ–≤ –Ü–≤–∞–Ω)" required>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                         <select id="newUserClass" required>
                            <option value="" disabled selected>–û–±–µ—Ä—ñ—Ç—å –∫–ª–∞—Å</option>
                            <option value="10">10 –∫–ª–∞—Å</option>
                            <option value="11">11 –∫–ª–∞—Å</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn-primary" style="width: 100%;">–°—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å</button>
                </form>

                <div id="createdCredentials" class="text-for-reading hidden">
                    <h3>‚úÖ –û–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ!</h3>
                    <div id="credentialsInfo">
                        </div>
                    <button id="copyCredentialsBtn" class="btn-secondary" style="margin-top: 20px;">
                        –ö–æ–ø—ñ—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ –¥–ª—è –≤—Ö–æ–¥—É
                    </button>
                </div>
            </div>

        </div> </div> <div id="notificationArea" class="notification-area"></div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script>
      // –í–°–¢–ê–í–¢–ï –í–ê–® –ö–û–ù–§–Ü–ì FIREBASE –¢–£–¢
 const firebaseConfig = {
  apiKey: "AIzaSyAPnJFF03dqUF6hc9J4i5sL-K02LjavA5Q",
  authDomain: "olympiad-app-2024-591ee.firebaseapp.com",
  projectId: "olympiad-app-2024-591ee",
  storageBucket: "olympiad-app-2024-591ee.firebasestorage.app",
  messagingSenderId: "421657499179",
  appId: "1:421657499179:web:95a510e9d9fc146c6dfc6e"
      };
      // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
      const app = firebase.initializeApp(firebaseConfig);
      const auth = app.auth();
      const db = app.firestore();
    </script>

    <script src="script.js"></script>
</body>
</html>
