<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="main-card">
            <div class="header-section">
                <div class="logo">üèÜ</div>
                <h1>–û–ª—ñ–º–ø—ñ–∞–¥–∞ –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏</h1>
                <p class="subtitle">–ê–∫–∞–¥–µ–º—ñ—á–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è –∑–Ω–∞–Ω—å</p>
            </div>

            <div class="mode-selector" id="modeSelector">
                <div class="mode-card" data-mode="student">
                    <div class="card-icon">üéì</div>
                    <div class="card-content">
                        <h3>–£—á–µ–Ω—å</h3>
                        <p>–ü—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –æ–ª—ñ–º–ø—ñ–∞–¥–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å</p>
                        <div class="card-badge">–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è</div>
                    </div>
                </div>
                
                <div class="mode-card" data-mode="admin">
                    <div class="card-icon">‚öôÔ∏è</div>
                    <div class="card-content">
                        <h3>–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä</h3>
                        <p>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–æ—é —Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏</p>
                        <div class="card-badge">–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è</div>
                    </div>
                </div>
            </div>

            <div id="studentLogin" class="login-form" style="display: none;">
                <div class="form-header">
                    <h2>–í—Ö—ñ–¥ –¥–ª—è —É—á–Ω—è</h2>
                    <div class="form-icon">üîê</div>
                </div>
                <div class="form-group">
                    <label>–õ–æ–≥—ñ–Ω</label>
                    <input type="text" id="studentLoginInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à –ª–æ–≥—ñ–Ω">
                </div>
                <div class="form-group">
                    <label>–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="studentPasswordInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à –ø–∞—Ä–æ–ª—å">
                </div>
                <button id="studentLoginBtn" class="btn-primary">
                    <span>–£–≤—ñ–π—Ç–∏ –¥–æ —Å–∏—Å—Ç–µ–º–∏</span>
                    <div class="btn-icon">‚Üí</div>
                </button>
                <button class="btn-secondary" id="backFromStudentBtn">
                    <span>‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è</span>
                </button>
                <div id="studentError" class="error-message"></div>
            </div>

            <div id="adminLogin" class="login-form" style="display: none;">
                <div class="form-header">
                    <h2>–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø</h2>
                    <div class="form-icon">üîë</div>
                </div>
                <div class="form-group">
                    <label>–õ–æ–≥—ñ–Ω –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</label>
                    <input type="text" id="adminLoginInput" placeholder="admin">
                </div>
                <div class="form-group">
                    <label>–ü–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</label>
                    <input type="password" id="adminPasswordInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å">
                </div>
                <div class="form-group">
                    <label>–ö–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ</label>
                    <input type="password" id="adminCodeWord" placeholder="–°–µ–∫—Ä–µ—Ç–Ω–µ –∫–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ">
                </div>
                <button id="adminLoginBtn" class="btn-primary">
                    <span>–£–≤—ñ–π—Ç–∏ –≤ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å</span>
                    <div class="btn-icon">‚öôÔ∏è</div>
                </button>
                <button class="btn-secondary" id="backFromAdminBtn">
                    <span>‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è</span>
                </button>
                <div id="adminError" class="error-message"></div>
            </div>
        </div>

        <div class="footer">
            <p>–ê–∫–∞–¥–µ–º—ñ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–ª—ñ–º–ø—ñ–∞–¥ ‚Ä¢ 2024</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.mode-card[data-mode]').forEach(card => {
                card.addEventListener('click', function() {
                    const mode = this.getAttribute('data-mode');
                    showLoginForm(mode);
                });
            });

            document.getElementById('studentLoginBtn').addEventListener('click', handleStudentLogin);
            document.getElementById('backFromStudentBtn').addEventListener('click', showMainMenu);
            document.getElementById('adminLoginBtn').addEventListener('click', handleAdminLogin);
            document.getElementById('backFromAdminBtn').addEventListener('click', showMainMenu);

            document.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    if (document.getElementById('studentLogin').style.display !== 'none') {
                        handleStudentLogin();
                    } else if (document.getElementById('adminLogin').style.display !== 'none') {
                        handleAdminLogin();
                    }
                }
            });
        });

        function showMainMenu() {
            document.getElementById('modeSelector').style.display = 'grid';
            document.getElementById('studentLogin').style.display = 'none';
            document.getElementById('adminLogin').style.display = 'none';
        }

        function showLoginForm(mode) {
            document.getElementById('modeSelector').style.display = 'none';
            
            if (mode === 'student') {
                document.getElementById('studentLogin').style.display = 'block';
                document.getElementById('adminLogin').style.display = 'none';
            } else {
                document.getElementById('adminLogin').style.display = 'block';
                document.getElementById('studentLogin').style.display = 'none';
            }
        }

        function handleStudentLogin() {
            const login = document.getElementById('studentLoginInput').value.trim();
            const password = document.getElementById('studentPasswordInput').value.trim();
            
            if (!login || !password) {
                showError('studentError', '–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ–±–æ–≤\'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è');
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('olympiad_users')) || [];
            const user = users.find(u => u.login === login && u.password === password);
            
            if (user) {
                localStorage.setItem('current_user', JSON.stringify(user));
                window.location.href = 'student.html';
            } else {
                showError('studentError', '–ù–µ–≤—ñ—Ä–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥—ñ–Ω —Ç–∞ –ø–∞—Ä–æ–ª—å.');
            }
        }

        function handleAdminLogin() {
            const login = document.getElementById('adminLoginInput').value.trim();
            const password = document.getElementById('adminPasswordInput').value.trim();
            const codeWord = document.getElementById('adminCodeWord').value.trim();
            
            if (login === 'admin' && password === 'admin123' && codeWord === 'olympiad2024') {
                localStorage.setItem('admin_authenticated', 'true');
                window.location.href = 'admin.html';
            } else {
                showError('adminError', '–ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ.');
            }
        }

        function showError(elementId, message) {
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = message;
                element.style.display = 'block';
                setTimeout(() => {
                    element.style.display = 'none';
                }, 5000);
            }
        }
    </script>
</body>
</html>
