<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Olympiad - Cloud Edition</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <script>
const firebaseConfig = {
    apiKey: "AIzaSyAPnJFF03dqUF6hc9J4i5sL-K02LjavA5Q",
    authDomain: "olympiad-app-2024-591ee.firebaseapp.com",
    projectId: "olympiad-app-2024-591ee", 
    storageBucket: "olympiad-app-2024-591ee.firebasestorage.app",
    messagingSenderId: "421657499179",
    appId: "1:421657499179:web:95a510e9d9fc146c6dfc6e"
};
      // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase —Ç–∞ –≥–ª–æ–±–∞–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏
      const app = firebase.initializeApp(firebaseConfig);
      const auth = app.auth();
      const db = app.firestore();
    </script>
</head>
<body class="fade-in">
    <div class="container">
        <div class="app-container">
            
            <div id="mainView">
                <h1>–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –û–ª—ñ–º–ø—ñ–∞–¥–∞ 2024</h1>
                <p class="subtitle">–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ —Å–∏—Å—Ç–µ–º–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è. –û–±–µ—Ä—ñ—Ç—å —Ä–µ–∂–∏–º —Ä–æ–±–æ—Ç–∏.</p>

                <div id="modeSelector" style="display: flex; gap: 30px; margin-bottom: 50px;">
                    <button class="btn-primary" data-mode="student" style="flex-grow: 1;">
                        –Ø - –£—á–µ–Ω—å
                    </button>
                    <button class="btn-secondary" data-mode="admin" style="flex-grow: 1;">
                        –Ø - –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä
                    </button>
                </div>

                <div id="studentLogin" class="hidden">
                    <h2>–í—Ö—ñ–¥ –¥–ª—è —É—á–Ω—è</h2>
                    <form id="studentLoginForm">
                        <div style="margin-bottom: 20px;">
                            <label for="studentLoginInput" style="display: block; margin-bottom: 8px;">–õ–æ–≥—ñ–Ω (Email):</label>
                            <input type="text" id="studentLoginInput" placeholder="–í–∞—à –ª–æ–≥—ñ–Ω" required>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label for="studentPasswordInput" style="display: block; margin-bottom: 8px;">–ü–∞—Ä–æ–ª—å:</label>
                            <input type="password" id="studentPasswordInput" placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å" required>
                        </div>
                        <p id="studentError" class="error-message hidden" style="color: var(--danger); margin-bottom: 15px;"></p>
                        <button type="submit" class="btn-primary" style="width: 100%; margin-bottom: 15px;">–£–≤—ñ–π—Ç–∏</button>
                        <button type="button" class="btn-secondary" data-action="backToMain" style="width: 100%;">‚Üê –ù–∞ –≥–æ–ª–æ–≤–Ω—É</button>
                    </form>
                </div>
                
                <div id="adminLogin" class="hidden">
                    <h2>–í—Ö—ñ–¥ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
                    <form id="adminLoginForm">
                        <div style="margin-bottom: 20px;">
                            <label for="adminLoginInput" style="display: block; margin-bottom: 8px;">–õ–æ–≥—ñ–Ω (Email):</label>
                            <input type="text" id="adminLoginInput" placeholder="–õ–æ–≥—ñ–Ω –∞–¥–º—ñ–Ω–∞" value="admin@olympiad.com" required>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label for="adminPasswordInput" style="display: block; margin-bottom: 8px;">–ü–∞—Ä–æ–ª—å:</label>
                            <input type="password" id="adminPasswordInput" placeholder="–ü–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω–∞" value="admin123" required>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label for="adminCodeWord" style="display: block; margin-bottom: 8px;">–ö–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ:</label>
                            <input type="password" id="adminCodeWord" placeholder="–ö–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ (–¥–ª—è –±–µ–∑–ø–µ–∫–∏)" required>
                        </div>
                        <p id="adminError" class="error-message hidden" style="color: var(--danger); margin-bottom: 15px;"></p>
                        <button type="submit" class="btn-primary" style="width: 100%; margin-bottom: 15px;">–£–≤—ñ–π—Ç–∏ –¥–æ –ø–∞–Ω–µ–ª—ñ</button>
                        <button type="button" class="btn-secondary" data-action="backToMain" style="width: 100%;">‚Üê –ù–∞ –≥–æ–ª–æ–≤–Ω—É</button>
                    </form>
                </div>
            </div>

            <div id="studentAppView" class="hidden">
                <div class="header-section task-header">
                    <h1 id="studentNameDisplay">–û–ª—ñ–º–ø—ñ–∞–¥–∞</h1>
                    <button id="studentLogoutBtn" class="btn-secondary" style="padding: 10px 20px;">–í–∏—Ö—ñ–¥</button>
                </div>

                <div id="studentIntro">
                    <h2 id="introUserName" style="color: var(--accent-primary); margin-top: 30px;">–í—ñ—Ç–∞—î–º–æ!</h2>
                    <p class="subtitle">–í–∏ –≥–æ—Ç–æ–≤—ñ —Ä–æ–∑–ø–æ—á–∞—Ç–∏ –æ–ª—ñ–º–ø—ñ–∞–¥—É? –ù–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –∑–∞–≤–¥–∞–Ω—å –¥–∞—î—Ç—å—Å—è 20 —Ö–≤–∏–ª–∏–Ω –Ω–∞ –∫–æ–∂–Ω–µ.</p>
                    
                    <div id="introUserInfo" style="margin-bottom: 40px; padding: 30px; background: var(--btn-dark); border-radius: var(--radius);">
                        </div>
                    
                    <button id="startOlympiadBtn" class="btn-primary" style="width: 100%; padding: 20px; font-size: 1.2rem;">
                        üî• –†–æ–∑–ø–æ—á–∞—Ç–∏ –û–ª—ñ–º–ø—ñ–∞–¥—É
                    </button>
                </div>

                <div id="studentTasks" class="hidden">
                    <div class="task-header">
                        <div style="font-size: 1.1rem;">
                            –ó–∞–≤–¥–∞–Ω–Ω—è <span id="currentTaskNum" class="code-badge">1</span> / 3
                        </div>
                        <div id="timerDisplay" class="timer-display">20:00</div>
                    </div>
                    
                    <div id="fullscreenWarning" class="forced-message hidden" style="margin-bottom: 30px;"></div>

                    <div id="taskContentContainer">
                        </div>

                    <div class="task-navigation">
                        <button id="prevTaskBtn" class="btn-secondary">‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è</button>
                        <button id="nextTaskBtn" class="btn-primary">–ù–∞—Å—Ç—É–ø–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Üí</button>
                        <button id="finishOlympiadBtn" class="btn-primary hidden">–ó–∞–≤–µ—Ä—à–∏—Ç–∏ –æ–ª—ñ–º–ø—ñ–∞–¥—É</button>
                    </div>
                </div>
                
                <div id="studentResults" class="hidden">
                    <div id="resultsContent">
                        </div>
                </div>
            </div>

            <div id="adminAppView" class="hidden">
                <div class="header-section task-header">
                    <h1>–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å</h1>
                    <button id="adminLogoutBtn" class="btn-secondary" style="padding: 10px 20px;">–í–∏—Ö—ñ–¥</button>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏</div>
                    <div class="tab" data-tab="users">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Ç–∞ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</div>
                    <div class="tab" data-tab="create">–°—Ç–≤–æ—Ä–∏—Ç–∏ –£—á–Ω—è</div>
                </div>

                <div id="statsPanel" class="panel">
                    <h2>–ó–∞–≥–∞–ª—å–Ω–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                    <div class="stats-grid" style="margin-bottom: 50px;">
                        <div class="stat-card"><div id="totalUsers" class="stat-number">0</div><div class="stat-label">–í—Å—å–æ–≥–æ —É—á–Ω—ñ–≤</div></div>
                        <div class="stat-card"><div id="activeUsers" class="stat-number">0</div><div class="stat-label">–ê–∫—Ç–∏–≤–Ω–∏—Ö —É—á–Ω—ñ–≤</div></div>
                        <div class="stat-card"><div id="completedUsers" class="stat-number">0</div><div class="stat-label">–ó–∞–≤–µ—Ä—à–∏–ª–∏ —Ç–µ—Å—Ç</div></div>
                        <div class="stat-card"><div id="class10Users" class="stat-number">0</div><div class="stat-label">–£—á–Ω—ñ–≤ 10 –∫–ª–∞—Å—É</div></div>
                    </div>

                    <h2>–¢–∞–±–ª–∏—Ü—è –†–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (–ó–∞–≤–µ—Ä—à–∏–ª–∏)</h2>
                    <div style="overflow-x: auto; margin-top: 20px;">
                        <table class="results-table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>–ü–Ü–ë</th>
                                    <th>–ö–ª–∞—Å</th>
                                    <th>–ë–∞–ª–∏ (—Å–∏—Ä—ñ)</th>
                                    <th>–ë–∞–ª–∏ (12-–±)</th>
                                    <th>–°—Ç–∞—Ç—É—Å</th>
                                </tr>
                            </thead>
                            <tbody id="resultsTableBody">
                                </tbody>
                        </table>
                    </div>
                </div>

                <div id="usersPanel" class="panel hidden">
                    <h2>–ü–æ—à—É–∫ —Ç–∞ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</h2>
                    <div style="margin-bottom: 20px;">
                        <input type="text" id="userSearch" placeholder="–®—É–∫–∞—Ç–∏ –∑–∞ —ñ–º'—è–º, –ª–æ–≥—ñ–Ω–æ–º –∞–±–æ –Ω–æ–º–µ—Ä–æ–º..." style="width: 100%;">
                    </div>
                    
                    <div id="usersListContainer">
                        </div>
                </div>

                <div id="createPanel" class="panel hidden">
                    <h2>–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ù–æ–≤–æ–≥–æ –£—á–Ω—è</h2>
                    <form id="createUserForm">
                        <div style="margin-bottom: 20px;">
                            <label for="newUserName" style="display: block; margin-bottom: 8px;">–ü–Ü–ë —É—á–Ω—è:</label>
                            <input type="text" id="newUserName" placeholder="–Ü–≤–∞–Ω–æ–≤ –Ü–≤–∞–Ω –Ü–≤–∞–Ω–æ–≤–∏—á" required>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label for="newUserClass" style="display: block; margin-bottom: 8px;">–ö–ª–∞—Å:</label>
                            <select id="newUserClass" required>
                                <option value="10">10 –ö–ª–∞—Å</option>
                                <option value="11">11 –ö–ª–∞—Å</option>
                            </select>
                        </div>
                        <button type="submit" class="btn-primary" style="width: 100%; padding: 15px;">
                            ‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –õ–æ–≥—ñ–Ω —Ç–∞ –ü–∞—Ä–æ–ª—å
                        </button>
                    </form>
                    
                    <div id="createdCredentials" class="card-content hidden" style="margin-top: 30px; padding: 25px; border-left: 5px solid var(--accent-primary);">
                        <h3>–î–∞–Ω—ñ –¥–ª—è –≤—Ö–æ–¥—É:</h3>
                        <div id="credentialsInfo"></div>
                        <button id="copyCredentialsBtn" class="btn-secondary" style="margin-top: 15px;">
                            üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ
                        </button>
                    </div>
                </div>
            </div>
            
            <div id="appFooter" style="margin-top: 50px; text-align: center; color: var(--text-secondary); font-size: 0.9rem;">
                <p>Olympiad System. Powered by Firebase Cloud.</p>
            </div>
        </div>
    </div>
    
    <div id="notificationArea"></div>
    
    <script src="script.js"></script>
</body>
</html>
